<!-- components/ui/explain/TempoExplain.vue -->
<template>
    <div class="calc-scan">
        <div class="calc-hero" role="img" aria-label="Tempo Kurzkarte">
            <div class="calc-hero-top">
                <span class="calc-hero-title">â„¹ï¸ Tempo (z. B. 3-1-1)</span>
            </div>

            <div class="calc-hero-sub">
                Tempo beschreibt <strong>wie lange</strong> du fÃ¼r die Phasen einer Wiederholung brauchst.
                Damit steuerst du Technik, Kontrolle und Trainingsreiz.
            </div>

            <div class="calc-hero-pills" aria-label="Schnellnavigation">
                <button class="calc-hero-pill" type="button" @click="jumpTo('tempo_tldr')">ğŸ“Œ Kurz</button>
                <button class="calc-hero-pill" type="button" @click="jumpTo('tempo_read')">ğŸ‘€ Lesen</button>
                <button class="calc-hero-pill" type="button" @click="jumpTo('tempo_examples')">ğŸ§  Beispiele</button>
                <button class="calc-hero-pill calc-hero-pill--warn" type="button" @click="jumpTo('tempo_mistakes')">âš ï¸ Fehler</button>
            </div>
        </div>

        <div class="calc-chips" aria-label="KurzÃ¼berblick">
            <button class="calc-chip" type="button" @click="jumpTo('tempo_tldr')">ğŸ“Œ Kurzfassung</button>
            <button class="calc-chip calc-chip--good" type="button" @click="jumpTo('tempo_read')">ğŸ‘€ Wie lesen?</button>
            <button class="calc-chip" type="button" @click="jumpTo('tempo_examples')">ğŸ§  Beispiele</button>
            <button class="calc-chip" type="button" @click="jumpTo('tempo_why')">ğŸ¯ Warum?</button>
            <button class="calc-chip calc-chip--warn" type="button" @click="jumpTo('tempo_mistakes')">âš ï¸ HÃ¤ufige Fehler</button>
        </div>

        <div id="tempo_tldr" class="calc-callout calc-callout--tldr" tabindex="-1" ref="tldrEl">
            <div class="calc-callout-title">ğŸ“Œ Kurzfassung</div>
            <div class="calc-callout-text">
                <ul class="calc-list calc-list--spaced">
                    <li>Tempo wird meist als <strong>3â€“4 Zahlen</strong> notiert.</li>
                    <li>Die Zahlen sind <strong>Sekunden</strong> pro Phase.</li>
                    <li>Typisch ist: <strong>exzentrisch â€“ Pause â€“ konzentrisch â€“ Pause</strong>.</li>
                </ul>

                <div class="calc-note calc-note--spaced">
                    Wenn du nur <strong>3 Zahlen</strong> nutzt (z. B. 3-1-1), fehlt die letzte Pause und ist meist <strong>0</strong>.
                </div>
            </div>
        </div>

        <section id="tempo_read" class="calc-card" tabindex="-1" ref="readEl">
            <h4 class="calc-h">ğŸ‘€ Wie liest man â€3-1-1â€œ?</h4>

            <div class="calc-bands">
                <div class="calc-band">
                    <span class="calc-band-k">1. Zahl</span>
                    <span class="calc-band-v"><strong>Exzentrisch</strong> (ablassen) â€“ z. B. 3s kontrolliert runter</span>
                </div>
                <div class="calc-band">
                    <span class="calc-band-k">2. Zahl</span>
                    <span class="calc-band-v"><strong>Pause unten</strong> â€“ z. B. 1s halten</span>
                </div>
                <div class="calc-band">
                    <span class="calc-band-k">3. Zahl</span>
                    <span class="calc-band-v"><strong>Konzentrisch</strong> (hoch/drÃ¼cken/ziehen) â€“ z. B. 1s hoch</span>
                </div>
                <div class="calc-band">
                    <span class="calc-band-k">4. Zahl (optional)</span>
                    <span class="calc-band-v"><strong>Pause oben</strong> â€“ wenn nicht angegeben, oft 0s</span>
                </div>
            </div>

            <div class="calc-note calc-note--spaced">
                Beispiel BankdrÃ¼cken: <strong>3-1-1</strong> = 3s runter, 1s auf der Brust halten, 1s hoch.
            </div>
        </section>

        <section id="tempo_examples" class="calc-card" tabindex="-1" ref="examplesEl">
            <h4 class="calc-h">ğŸ§  Beispiele</h4>
            <ul class="calc-list">
                <li><strong>2-0-1</strong> â†’ sauber runter, ohne Pause, normal hoch (Standard)</li>
                <li><strong>3-1-1</strong> â†’ mehr Kontrolle, Technik, weniger â€schummelnâ€œ</li>
                <li><strong>4-0-1</strong> â†’ lÃ¤ngere Exzentrik, mehr Time-under-Tension</li>
                <li><strong>2-2-1</strong> â†’ Pause unten machtâ€™s schwerer (z. B. Squat unten)</li>
                <li><strong>3-0-X</strong> â†’ runter kontrolliert, hoch explosiv (X = so schnell sauber geht)</li>
            </ul>
        </section>

        <section id="tempo_why" class="calc-card" tabindex="-1" ref="whyEl">
            <h4 class="calc-h">ğŸ¯ Warum Tempo tracken?</h4>
            <ul class="calc-list">
                <li><strong>Technik:</strong> du bleibst sauber, weniger â€ego repsâ€œ</li>
                <li><strong>Reiz steuern:</strong> mehr Kontrolle / mehr Spannung / anderer Fokus</li>
                <li><strong>Vergleichbarkeit:</strong> 80 kg mit 4s exzentrisch ist nicht â€gleichâ€œ wie 80 kg schnell</li>
            </ul>

            <div class="calc-note calc-note--spaced">
                FÃ¼rs Loggen reicht oft: <strong>Tempo</strong> nur dann setzen, wenn es bewusst vorgegeben ist.
            </div>
        </section>

        <div id="tempo_mistakes" class="calc-callout calc-callout--warn" tabindex="-1" ref="mistakesEl">
            <div class="calc-callout-title">âš ï¸ HÃ¤ufige Fehler</div>
            <ul class="calc-list">
                <li><strong>Zahlen sind nicht gleich â€Gesamtzeitâ€œ.</strong> Es sind Phasen pro Wiederholung.</li>
                <li><strong>Unrealistische Angaben.</strong> â€10-0-10â€œ und dann trotzdem normale Wiederholungen â€“ passt nicht.</li>
                <li><strong>Tempo killt Gewicht.</strong> Wenn du Tempo strenger machst, ist weniger Gewicht normal.</li>
                <li><strong>Uneinheitlich.</strong> Wenn du Tempo trackst, dann mÃ¶glichst konsistent.</li>
            </ul>
        </div>
    </div>
</template>

<script setup lang="ts">
    import { ref } from 'vue'

    const tldrEl = ref<HTMLElement | null>(null)
    const readEl = ref<HTMLElement | null>(null)
    const examplesEl = ref<HTMLElement | null>(null)
    const whyEl = ref<HTMLElement | null>(null)
    const mistakesEl = ref<HTMLElement | null>(null)

    function jumpTo(id: 'tempo_tldr' | 'tempo_read' | 'tempo_examples' | 'tempo_why' | 'tempo_mistakes') {
        const map: Record<string, HTMLElement | null> = {
            tempo_tldr: tldrEl.value,
            tempo_read: readEl.value,
            tempo_examples: examplesEl.value,
            tempo_why: whyEl.value,
            tempo_mistakes: mistakesEl.value,
        }
        const el = map[id]
        el?.scrollIntoView({ behavior: 'smooth', block: 'start' })
        el?.focus?.()
    }
</script>

<style scoped>
</style>
